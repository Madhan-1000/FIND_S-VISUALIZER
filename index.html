<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find-S Algorithm Visualizer</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px }
        table { border-collapse: collapse; margin-top: 10px }
        td, th { border: 1px solid black; padding: 6px }
        .step { margin-top: 15px; padding: 10px; border: 1px solid #999 }
    </style>
</head>
<body>

<h2>Find-S Algorithm (CSV Input)</h2>

<input type="file" id="csvFile" accept=".csv">
<button onclick="runFindS()">Run</button>

<div id="output"></div>

<script>
let data = []
let header = []

function runFindS() {
    const file = document.getElementById("csvFile").files[0]
    if (!file) return

    const reader = new FileReader()
    reader.onload = function(e) {
        const lines = e.target.result.trim().split("\n")
        header = lines[0].split(",")
        data = lines.slice(1).map(row => row.split(","))
        processData()
    }
    reader.readAsText(file)
}

function processData() {
    let X = []
    let Y = []

    for (let row of data) {
        X.push(row.slice(0, -1))
        Y.push(row[row.length - 1])
    }

    let hypothesis = Array(X[0].length).fill("φ")
    let out = document.getElementById("output")
    out.innerHTML = ""

    for (let i = 0; i < Y.length; i++) {
        if (Y[i] === "Approved") {
            let current = X[i]
            for (let j = 0; j < hypothesis.length; j++) {
                if (hypothesis[j] === "φ") {
                    hypothesis[j] = current[j]
                } else if (hypothesis[j] !== current[j]) {
                    hypothesis[j] = "?"
                }
            }
            
        }
    }

    out.innerHTML += "<h3>Final Hypothesis</h3><pre>" + JSON.stringify(hypothesis) + "</pre>"
}


</script>

</body>
</html>
